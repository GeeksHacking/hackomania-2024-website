---
import { Image } from 'astro:assets'

import 'swiper/css/bundle'

const images = await Astro.glob('../assets/album/*.{png,jpeg}')
---

<script>
  import { Swiper } from 'swiper'
  import { Navigation, Pagination } from 'swiper/modules'

  new Swiper('.swiper', {
    modules: [Navigation, Pagination],
    slidesPerView: 1,
    spaceBetween: 30,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
  })
</script>

<div class="swiper">
  <div class="swiper-wrapper">
    {
      images.map((img) => {
        return (
          <div class="swiper-slide px-10 py-2">
            <Image src={img.default} alt="HackOMania!" class="md:object-contain object-cover object-center aspect-video!" />
          </div>
        )
      })
    }
  </div>
  <div class="swiper-pagination"></div>
  <button class="swiper-button-next"></button>
  <button class="swiper-button-prev"></button>
</div>

<style>
  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 475px;
  }
</style>
